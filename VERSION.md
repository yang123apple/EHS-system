# 当前版本: V3.2

## V3.2 版本信息

### 基础信息
- **版本**: 3.2
- **发布日期**: 2025年12月22日
- **主题**: 作业单编号生成系统 & 打印功能全面优化

### 快速概览
这是一个聚焦于 **自动化编号和打印质量** 的功能版本更新，包括：
- ✨ 自动生成作业单编号（项目-类型-日期-顺序）
- 🖨️ 打印格式优化（页边距、边框、居中）
- 🎯 编号智能显示（屏幕/打印不同样式）
- 🔄 完全向后兼容

### 核心功能
- **编号生成**: 自动生成唯一作业单编号
- **类型映射**: 支持动火、高处、受限空间等类型
- **顺序控制**: 按日期和类型分组递增
- **打印优化**: 专业的打印样式和布局

### 详细日志
请查看 [V3.2_UPDATE_SUMMARY.md](./V3.2_UPDATE_SUMMARY.md)

---

## V3.1 版本信息

### 基础信息
- **版本**: 3.1
- **发布日期**: 2025年12月22日
- **主题**: 必填字段标记功能 & 用户体验优化

### 快速概览
这是一个聚焦于 **表单验证能力** 的功能版本更新，包括：
- ✨ 必填字段标记系统
- 🎯 智能视觉反馈（红色边框 + 星号提示）
- 🔍 内联输入框状态检测
- 🎨 弹窗尺寸优化

### 核心功能
- **设计端**: 可视化标记必填字段
- **填写端**: 智能星号提示 + 动态边框
- **状态检测**: 自动识别填写完成状态
- **兼容性**: 100% 向后兼容

### 详细日志
请查看 [CHANGELOG_V3.1.md](./CHANGELOG_V3.1.md)

### 完整更新说明
请查看 [V3.1_UPDATE_SUMMARY.md](./V3.1_UPDATE_SUMMARY.md)

---

## V3.0 版本信息

## 基础信息
- **版本**: 3.0
- **发布日期**: 2025年12月21日
- **主题**: 模板解析精度优化 & 运行时错误修复

## 快速概览
这是一个重点关注 **模板字段识别** 的大版本更新，包括：
- 🎯 日期占位符智能识别与标签绑定
- 🎯 选项行自动聚合与去重
- 🎯 合并单元格规范化处理
- 🎯 ExcelRenderer 运行时错误修复

## 改进数量
- **新增函数**: 2 个（isIgnorableLabel, findSmartLeftLabel）
- **修复 Bug**: 1 个重大（ExcelRenderer formData JSON parse）
- **优化逻辑**: 5 处（STEP 1 选项行、extractMerges、nameMap、列宽、字段唯一性）
- **测试覆盖**: 6 个验证场景

## 详细日志
请查看 [CHANGELOG.md](./CHANGELOG.md)

## 代码统计
- **src/utils/templateParser.ts**: 822 行（核心解析引擎）
- **src/components/work-permit/ExcelRenderer.tsx**: 1050 行（渲染组件）
- **配置文件**: package.json, tsconfig.json, next.config.ts 等

## 即时启动
```bash
# 切换到此版本
cd history/V3.0

# 安装依赖（如需）
npm install

# 启动开发服务
npm run dev
```

## 验证步骤
1. 登录系统
2. 上传"动火作业申请单"模板
3. 检查工作流文本匹配下拉菜单 - 应无重复字段
4. 创建工作许可单 - 验证多行字段（如多个"负责人"）可独立填写

---

**首发版本** | 完整快照 | 生产就绪

