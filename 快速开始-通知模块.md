# 🚀 快速开始 - 通知模块初始化

## 最简单的方法（推荐）

### Windows PowerShell 一键初始化

```powershell
# 在项目根目录运行
.\init-notifications.ps1
```

这个脚本会自动完成：
1. ✅ 停止正在运行的应用
2. ✅ 执行数据库迁移
3. ✅ 生成 Prisma 客户端  
4. ✅ 重启应用

然后访问 `http://localhost:3000/init-notification-templates.html` 创建模板。

---

## 手动步骤

如果自动脚本有问题，可以手动执行：

### 1. 停止应用
在运行应用的终端按 `Ctrl+C`

### 2. 执行数据库迁移
```powershell
node node_modules/prisma/build/index.js migrate deploy
```

### 3. 重启应用
```powershell
npm run dev
```

### 4. 创建模板
访问 `http://localhost:3000/init-notification-templates.html` 并点击"开始初始化"

---

## 验证

访问 `/admin/notifications` 页面：
- "通知模板"标签应显示 6 个模板
- "消息记录"标签可查看所有消息

---

## 测试功能

1. **测试培训通知**：创建培训任务并分配给用户
2. **测试作业票通知**：提交作业票并审批
3. **查看消息记录**：在 `/admin/notifications` 的"消息记录"标签查看

---

## 需要帮助？

查看详细文档：
- `通知模块初始化步骤.md` - 详细步骤和故障排除
- `通知模块对接说明.md` - 完整的技术文档
- `NOTIFICATION_GUIDE.md` - 开发和使用指南

---

## 问题排查

### ❌ 数据库被锁定
应用正在运行，需要先停止应用

### ❌ 表不存在
数据库迁移未执行，运行 migrate deploy

### ❌ 通知没发送
检查模板是否存在且已启用，查看服务器日志
